types: ./types.graphql

functions:
  signup:
    type: resolver
    schema: ./cloud-functions/auth/signup.graphql
    handler:
      code:
        src: ./cloud-functions/auth/signup.js

  authenticate:
    type: resolver
    schema: ./cloud-functions/auth/authenticate.graphql
    handler:
      code:
        src: ./cloud-functions/auth/authenticate.js

permissions:
- operation: File.read
  authenticated: true
- operation: File.create
  authenticated: true
- operation: File.update
  authenticated: true
- operation: File.delete
  authenticated: true

- operation: Position.read
  authenticated: true
- operation: Position.create
  authenticated: true
- operation: Position.update
  authenticated: true
- operation: Position.delete
  authenticated: true

- operation: Submission.read
  authenticated: true
- operation: Submission.create
  authenticated: true
- operation: Submission.update
  authenticated: true
- operation: Submission.delete
  authenticated: true

- operation: Tag.read
  authenticated: true
- operation: Tag.create
  authenticated: true
- operation: Tag.update
  authenticated: true
- operation: Tag.delete
  authenticated: true

- operation: Topic.read
  authenticated: true
- operation: Topic.create
  authenticated: true
- operation: Topic.update
  authenticated: true
- operation: Topic.delete
  authenticated: true

- operation: Transition.read
  authenticated: true
- operation: Transition.create
  authenticated: true
- operation: Transition.update
  authenticated: true
- operation: Transition.delete
  authenticated: true

- operation: User.read
  authenticated: true
- operation: User.create
  authenticated: true
- operation: User.update
  authenticated: true
- operation: User.delete
  authenticated: true

- operation: UserPositions.connect
  authenticated: true
- operation: UserSubmissions.connect
  authenticated: true
- operation: UserTransitions.connect
  authenticated: true
- operation: UserTopics.connect
  authenticated: true
- operation: UserTags.connect
  authenticated: true

- operation: PositionHasSubmissions.connect
  authenticated: true
- operation: PositionHasTransitionsFrom.connect
  authenticated: true
- operation: PositionHasTransitionsTo.connect
  authenticated: true

- operation: SubmissionHasTags.connect
  authenticated: true
- operation: TransitionHasTags.connect
  authenticated: true

rootTokens: [ronan]
